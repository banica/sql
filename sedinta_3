/* Creare tabela cu numele student */
create database mbanica; 

/* Comanda de folosire a bazei de date recent creata */
use mbanica;

/* creare tabela departament */
create table departament(
id int(2) primary key auto_increment,
denumire varchar(100) not null
); 

/* Creare tabela angajati */

create table angajati(
id int primary key auto_increment, 
nume varchar(50) not null,
prenume varchar(150) not null,
varsta tinyint,
CNP char(13) not null, 
data_angajarii datetime not null default now(), /*data actuala a sistemului */
salariul double(5,2),
poza blob
);


/* MODIFICARE NUME BAZA DE DATE */
alter table angajati rename angajat;
 
/* Stergere camp VARSTA din tabela anggajat */
alter table angajat drop varsta; 

/* Adaugare camp data_nasterii in tabela angajat de tip DATETIME */
alter table angajat add data_nasterii datetime; */


/* alter table angajat change data_nasterii  datanasterii datetime;  */
/* alter table departament change denumire denumire varchar(75) not null; */

/*
create table proiect (
codproiect varchar(5) primary key,
denumire varchar(50),
durata tinyint
);
*/
/* creare tabela detalii proiect */
/* 
create table DetaliiProiect(
codproiect varchar(5),
idAngajat int,
primary key (codproiect, idangajat),
foreign key (codproiect) references proiect(codproiect),
foreign key (idAngajat) references angajat(id)
);
*/

/* alter table angajat add column idDepartament int(2); */
/* alter table angajat add foreign key (idDepartament) references departament(id); */

/*redenumire foregin key din angajat_ibfk_1 in fkPopescu */
/* alter table angajat drop foreign key angajat_ibfk_1; */
/* alter table angajat add constraint fkPopescu foreign key (idDepartament) references departament(id);  */

/*redenumire tabele; facem CNP din angajat UNIQUE */
/* alter table angajat change cnp cnp char(13) not null unique; */
/*redenumire tabela angajat in angajati */ 
rename table angajat to angajati;
